set(SUBHOOK_STATIC TRUE)
add_subdirectory(subhook)

set_property(DIRECTORY ${CMAKE_SOURCE_DIR} APPEND PROPERTY
             COMPILE_DEFINITIONS SUBHOOK_STATIC)

set_property(DIRECTORY ${CMAKE_SOURCE_DIR} APPEND PROPERTY
             INCLUDE_DIRECTORIES ${CMAKE_CURRENT_SOURCE_DIR}/subhook)

file(RELATIVE_PATH this_folder ${CMAKE_SOURCE_DIR} ${CMAKE_CURRENT_SOURCE_DIR})
set_property(TARGET subhook PROPERTY FOLDER ${this_folder})
